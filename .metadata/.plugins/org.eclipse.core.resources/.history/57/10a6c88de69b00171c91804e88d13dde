package Grafica;


import javax.swing.Icon;
import javax.swing.ImageIcon;
import javax.swing.JLabel;
import javax.swing.JPanel;

import Logica.Celda;
import Logica.Enemigo;
import Logica.Mapa;

public class gMapa 
{
	private Mapa m;
	private Thread Enemigos[];
	private Icon pisoNieve;
	//private GUI gui;
	private JPanel gui;
	protected final int ancho = 32;
	protected final int alto = 32;
	
	public gMapa(JPanel gui)
	{		
		this.gui = gui;
		m = new Mapa(6,10);
		
		//creo imagen
		pisoNieve = new ImageIcon(this.getClass().getResource("/Imagenes/pisoConNieve.png"));
		
		//agrego el piso 
		for(Celda[] columna : m.obtenerMatrizCeldas())
		{	for(Celda c : columna)
			{
				//if(c.getContenido() == null)
				//{
					JLabel grafCelda = new JLabel(pisoNieve);
					gui.add(grafCelda);
					grafCelda.setBounds(c.getPosCelda().getEjeX() * 32, c.getPosCelda().getEjeY() * 32, ancho, alto );
					
				//}
			}
		}
		
		//Creo un Enemigo y agrego a la GUI su gráfico
		
		Enemigos= new Thread[2];
		
		// agrego los CaminantesBlancos en posiciones que coinciden con las que creo los
		// CaminatesBlancos en el mapa
		
		Enemigo enem[] = m.getEnemigos();

		gCaminanteBlanco caminante1 = new gCaminanteBlanco(enem[0].getPosicion().getEjeX() * 32, enem[0].getPosicion().getEjeY() * 32, enem[0]);
		Enemigos[0] = new CaminanteBlancoThread(caminante1);
		gui.add(caminante1.getGrafico());
		
		
		gCaminanteBlanco caminante2 = new gCaminanteBlanco(enem[1].getPosicion().getEjeX() * 32, enem[1].getPosicion().getEjeY() * 32, enem[1]);
		Enemigos[1] = new CaminanteBlancoThread(caminante2);
		gui.add(caminante2.getGrafico());
		
		Enemigos[0].start();
		Enemigos[1].start();
		
	}
	
	
}
